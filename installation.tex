\section{Installation}
\label{installation}

This chapter gives generic instructions on how to obtain, build and install
the CRIRES pipeline. 

The supported platforms are listed in Section \ref{PIP:platforms}. 
It is recommended reading through Section \ref{PIP:compile-howto} 
before starting the installation.

A bundled version of the CRIRES pipeline with all the required tools 
and an installer script is available from 
 \texttt{http://www.eso.org/pipelines/},  for users 
who are not familiar with the installation of software packages.

\subsection{Supported platforms}
\label{PIP:platforms}

The utilisation of the GNU build tools should allow to build and install
the CRIRES pipeline on a variety of UNIX platforms, but it has only been
verified on the VLT target platforms:
\begin{itemize}
  \item Linux (glibc 2.1 or later),
  \item Sun Solaris 2.8 or later,
\end{itemize}
using the GNU C compiler (version 3.2 or newer).

\subsection{Building the CRIRES pipeline}

This section shows how to obtain, build and install the CRIRES pipeline 
from the official source distribution.

\subsubsection{Requirements}
\label{PIP:requirements}

To compile and install the CRIRES pipeline one needs:
\begin{itemize}
  \item the GNU C compiler (version 3.2 or later),
  \item the GNU  \texttt{gzip}  data compression program,
  \item a version of the  \texttt{tar}  file-archiving program, and,
  \item the GNU  \texttt{make}  utility.
\end{itemize}

An installation of the Common Pipeline library (CPL) must also be
available on the system. 
The CPL distribution can be obtained from  \texttt{http://www.eso.org/cpl}.

Please note that CPL itself depends on an existing cfitsio installation.

In order to run the CRIRES pipeline recipes a front-end application is also
required. Currently there are two such applications available, a
command-line tool called  \textit{EsoRex}  and the Java based data file
organizer,  \textit{Gasgano},  which provides an intuitive graphical user
interface (see Section \ref{launch}, page \pageref{launch}). At least one 
of them must be installed. The  \textit{EsoRex}  and
 \textit{Gasgano}  packages are available at
 \texttt{http://www.eso.org/cpl/esorex.html}  and
 \texttt{http://www.eso.org/gasgano}, respectively.

For installation instructions of any of the additional packages mentioned
before please refer to the documentation of these packages.


\subsubsection{Compiling and installing the CRIRES pipeline}
\label{PIP:compile-howto}

The CRIRES pipeline distribution kit \pipelinevers contains:

\begin{tabbing}
xxxxxxx \=  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx \= xxxxxxxxxxxxxxxxx \kill
\> crire-pipeline-manual-\pipelinemanualvers.pdf    \> The CRIRES pipeline manual     \\
\> install\_pipeline                \> Install script                 \\
\> cfitsio\cfitsiovers.tar.gz               \> CFITSIO \cfitsiovers                  \\
\> cpl-\cplvers.tar.gz                   \> CPL \cplvers                        \\
\> esorex-\esorexvers.tar.gz              \> esorex \esorexvers                   \\
\> gasgano-\gasganovers.tar.gz             \> GASGANO \gasganovers                  \\
\> crire-\pipelinevers.tar.gz               \> CRIRES \pipelinevers                   \\
\> crire-calib-\pipelinevers.tar.gz         \> CRIRES calibration files \pipelinevers\\
\end{tabbing}

Here is a description of the installation procedure:

\begin{enumerate}
\item Change directory to where you want to retrieve the CRIRES pipeline 
recipes package. It can be any directory of your choice but not: 
\begin{verbatim}
              $HOME/gasgano 
              $HOME/.esorex
\end{verbatim}

\item Download from the ESO ftp server, 
 \texttt{http://www.eso.org/pipelines/},
 the latest release of the CRIRES pipeline distribution.

\item Verify the checksum value of the tar file with the cksum command. 

\item Unpack using the following command:

    gunzip crire-kit-\pipelinevers.tar.gz       

    tar -xvf crire-kit-\pipelinevers.tar

\item Install: after moving to the top installation directory,

    cd crire-kit-\pipelinevers

it is possible to perform a simple installation using the available 
installer script ({\it recommended}):
\begin{verbatim}
           ./install_pipeline
\end{verbatim}

(beware: the execution may take a few minutes on Linux and several minutes 
on SunOS).

By default the script will install the CRIRES recipes,  {\it Gasgano}, 
 {\it EsoRex}, all the necessary libraries, and the static calibration 
tables, into a directory tree rooted at  {\tt \$HOME}. A different path 
may be specified as soon as the script is run.

The only exception to all this is the  {\it Gasgano}  tool, that will 
always be installed under the directory  {\tt \$HOME/gasgano}. Note that 
the installer will move an existing  {\tt \$HOME/gasgano}  directory to 
 {\tt \$HOME/gasgano.old}  before the new  {\it Gasgano}  version is 
installed.

Important: the installation script would ensure that any existing 
 {\it Gasgano}   and  {\it EsoRex}  setup would be inherited 
into the newly installed configuration files (avoiding in this way 
any conflict with other installed instrument pipelines).
\end{enumerate}

Alternatively, it is possible to perform a manual installation 
({\it experienced users only}).

